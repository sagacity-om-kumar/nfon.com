{
    "REPORT_DATA":"SELECT tbl.name as `Scheduled By`,tbl.filetype as `File Category`,tbl.filename as `File Name`,tbl.fileaction as `File Action`,tbl.filerecordcount as `All Record Count`,tbl.successfulrecordcount as `Success Record Count`,tbl.errorrecordcount as `Error Record Count`,tbl.filestatus as `Status`,DATE_FORMAT(CONVERT_TZ(tbl.job_dtm, '+00::00', '+05::30'),'%d-%b-%Y %H::%i::%s') AS `Start Date`,DATE_FORMAT(CONVERT_TZ(tbl.job_completed_dtm,'+00::00','+05::30'),'%d-%b-%Y %H::%i::%s') AS `End Date` FROM(SELECT CONCAT(u.first_name, ' ', IFNULL(u.last_name, '')) AS name,c.display_name AS filetype,sj.filename AS filename,CASE WHEN sj.action = 'insert' THEN 'Insert' ELSE 'Update' END AS fileaction,sj.record_count AS filerecordcount,COUNT(CASE WHEN JSON_EXTRACT(sjvr.data, '$.status.value') = 'OK' THEN 1 END) AS successfulrecordcount,COUNT(CASE WHEN JSON_EXTRACT(sjvr.data, '$.status.value') = 'ERROR' THEN 1 END) AS errorrecordcount,sj.status AS filestatus,sj.job_dtm,sj.job_completed_dtm,sj.action FROM m_scheduled_job sj LEFT JOIN m_scheduled_job_view_record sjvr ON sjvr.scheduled_job_id = sj.id LEFT JOIN m_template t ON t.id = sjvr.template_id LEFT JOIN m_category c ON c.id = t.category_id LEFT JOIN m_user u ON u.id = sj.created_by LEFT JOIN c_role r ON r.id = u.role_id WHERE sj.is_deleted = 0 GROUP BY sj.id ORDER BY sj.id DESC) tbl WHERE tbl.filestatus REGEXP REPLACE('#filestatus#', ',', '|') AND tbl.action REGEXP REPLACE('#fileaction#', ',', '|') AND tbl.filename REGEXP REPLACE('#filename#', ',', '|') AND tbl.name REGEXP REPLACE('#name#', ',', '|')AND tbl.filetype REGEXP REPLACE('#filetype#', ',', '|') AND tbl.job_dtm like '%#startdate#%' AND IFNULL(tbl.job_completed_dtm,'') like '%#enddate#%'  AND (CASE WHEN #durationtype# = 0 THEN (YEAR(tbl.job_dtm) = YEAR(NOW()) AND MONTH(tbl.job_dtm) = MONTH(NOW())) ELSE YEAR(tbl.job_dtm) = YEAR(NOW()) END);"
}